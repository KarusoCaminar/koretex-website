<!-- Website-Integration: Speichert Debug-Daten als workflow-debug.json -->
<script>
async function saveDebugData(debugResponse) {
    try {
        // Debug-Daten extrahieren
        const debugData = {
            timestamp: new Date().toISOString(),
            debugSummary: debugResponse.debugSummary || null,
            debugData: debugResponse.debugData || [],
            result: debugResponse.result || null
        };

        // Als JSON speichern (f√ºr Cursor-KI)
        // In Produktion: Via API-Endpoint speichern
        console.log('üìä Debug-Daten:', JSON.stringify(debugData, null, 2));
        
        // F√ºr lokale Entwicklung: Download-Link erstellen
        const blob = new Blob([JSON.stringify(debugData, null, 2)], { type: 'application/json' });
        const url = URL.createObjectURL(blob);
        const a = document.createElement('a');
        a.href = url;
        a.download = 'workflow-debug.json';
        a.click();
        URL.revokeObjectURL(url);
        
        return true;
    } catch (error) {
        console.error('‚ùå Fehler beim Speichern der Debug-Daten:', error);
        return false;
    }
}

// Beispiel: Wenn n8n Response empfangen wird
// saveDebugData(n8nResponse);
</script>

